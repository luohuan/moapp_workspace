const app=getApp();const moapp=require("../../utils/moapp.js");Page({onButtonTap_dzkZYd:function(a){var e=this;var t=moapp.genEventData("wxaa8fe119f5c62d23","share",e,a.currentTarget.dataset);Promise.resolve(t).then(function(a){wx.showLoading({title:`加载中`,mask:true});return a}).then(function(a){return moapp.requestCloudFunction(e,"wxaa8fe119f5c62d23","main","saveShareImage",a)}).then(function(a){wx.hideLoading();return a}).catch(a=>{})},data:{objects:["shareImage","avatar","saveShareImage"],__shareImage_hidden:true,__shareImage_src:"http://material.motimaster.com/yuyuan/Duudle/create/93c539e06f357977dc224f88e952ba3f.jpg",__shareImage_width:"704rpx",__shareImage_height:"704rpx",__shareImage_left:"23rpx",__shareImage_top:"23rpx",__avatar_width:"149rpx",__avatar_height:"149rpx",__avatar_left:"297rpx",__avatar_top:"393rpx",__saveShareImage_text:"保存",__saveShareImage_hidden:true,__saveShareImage_disabled:"",__saveShareImage_color:"#663300",__saveShareImage_width:"400rpx",__saveShareImage_height:"80rpx",__saveShareImage_backgroundColor:"#FEB621",__saveShareImage_left:"175rpx",__saveShareImage_top:"780rpx",__saveShareImage_fontSize:"16px",__saveShareImage_fontWeight:900},onReady:function(){var a=this;var e=moapp.genEventData("wxaa8fe119f5c62d23","share",a,{});Promise.resolve(e).then(function(a){wx.showLoading({title:`加载中...`,mask:true});return a}).then(function(e){return moapp.requestCloudFunction(a,"wxaa8fe119f5c62d23","main","shareReady",e)}).then(function(a){wx.hideLoading();return a}).catch(a=>{})},onShow:function(a){var e=this;var t=moapp.genEventData("wxaa8fe119f5c62d23","share",e,{});moapp.bgmAllInOne(e,app);Promise.resolve(t).then(function(a){return a}).catch(a=>{})},onShareAppMessage:function(a){var e=this;let t="";const r=[];if(this.data.__share_options){for(let a in this.data.__share_options){r.push(a+"="+this.data.__share_options[a])}}r.push("_openid="+moapp.getOpenId());t=r.join("&");if(this.data.__share_page){}else{this.data.__share_page="begin"}let s={path:`/pages/${this.data.__share_page}/${this.data.__share_page}?`+t,success:function(a){console.log("share successed");console.log(a);var t=moapp.genEventData("wxaa8fe119f5c62d23","share",e,{});Promise.resolve(t)},fail:function(a){console.log("share failed!");console.log(a);var t=moapp.genEventData("wxaa8fe119f5c62d23","share",e,{});Promise.resolve(t)}};if(this.data.__share_title){s.title=this.data.__share_title}if(this.data.__share_imageUrl){s.imageUrl=this.data.__share_imageUrl}if(this.data.__share_image){s.imageUrl=this.data.__share_image}return s},onLoad:function(a){for(let e in a){if(typeof a[e]=="string"){a[e]=decodeURIComponent(a[e])}}this.setData({options:a,createTime:parseInt(Date.now()/1e3)});wx.showShareMenu({withShareTicket:true})},bgmcontrol:function(){moapp.bgmControl(this,app)}});