const app=getApp();const moapp=require("../../utils/moapp.js");const qiniuUploader=require("../../utils/qiniuUploader");Page({onButtonTap_OleT0U:function(e){var a=this;var t=moapp.genEventData("wx08fe2b1ff0c169f2","share",a,e.currentTarget.dataset);Promise.resolve(t).then(function(e){wx.showLoading({title:`加载中`,mask:true});return e}).then(function(e){return moapp.requestCloudFunction(a,"wx08fe2b1ff0c169f2","main","share.saveShareImage",e)}).then(function(e){wx.hideLoading();return e}).catch(e=>{})},data:{objects:["shareImage","saveShareImage"],__shareImage_src:"http://img.mogodeer.cn/images/diudiu/xingzuozhun/erweima5.jpg",__shareImage_width:"700rpx",__shareImage_height:"700rpx",__shareImage_left:"0rpx",__shareImage_top:"23rpx",__shareImage_right:"0rpx",__saveShareImage_text:"保存朋友圈海报",__saveShareImage_disabled:"",__saveShareImage_color:"#ffffff",__saveShareImage_width:"400rpx",__saveShareImage_height:"80rpx",__saveShareImage_backgroundColor:"rgba(242,64,64,0.82)",__saveShareImage_left:"175rpx",__saveShareImage_top:"780rpx",__saveShareImage_fontSize:"16px",__saveShareImage_fontWeight:900},onReady:function(){var e=this;var a=moapp.genEventData("wx08fe2b1ff0c169f2","share",e,{});Promise.resolve(a).then(function(e){wx.showLoading({title:`加载中...`,mask:true});return e}).then(function(a){return moapp.requestCloudFunction(e,"wx08fe2b1ff0c169f2","main","share.onInit",a)}).then(function(e){wx.hideLoading();return e}).catch(e=>{})},onShow:function(e){var a=this;var t=moapp.genEventData("wx08fe2b1ff0c169f2","share",a,{});moapp.bgmAllInOne(a,app);Promise.resolve(t).then(function(e){return e}).catch(e=>{})},onShareAppMessage:function(e){var a=this;let t="";const r=[];if(this.data.__share_options){for(let e in this.data.__share_options){r.push(e+"="+this.data.__share_options[e])}}r.push("_openid="+moapp.getOpenId());t=r.join("&");if(this.data.__share_page){}else{this.data.__share_page="entrance"}let s={path:`/pages/${this.data.__share_page}/${this.data.__share_page}?`+t,success:function(e){console.log("share successed");console.log(e);var t=moapp.genEventData("wx08fe2b1ff0c169f2","share",a,{});Promise.resolve(t)},fail:function(e){console.log("share failed!");console.log(e);var t=moapp.genEventData("wx08fe2b1ff0c169f2","share",a,{});Promise.resolve(t)}};if(this.data.__share_title){s.title=this.data.__share_title}if(this.data.__share_imageUrl){s.imageUrl=this.data.__share_imageUrl}if(this.data.__share_image){s.imageUrl=this.data.__share_image}return s},onLoad:function(e){for(let a in e){if(typeof e[a]=="string"){e[a]=decodeURIComponent(e[a])}}this.setData({options:e,createTime:parseInt(Date.now()/1e3)});wx.showShareMenu({withShareTicket:true})},bgmcontrol:function(){moapp.bgmControl(this,app)}});